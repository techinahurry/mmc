<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mumbai Masala Cafe - Your Choice, Your Flavour</title>
    <!-- 
    Chosen Palette: Warm Earth Tones
    Application Structure Plan: A single-page application with vertical scrolling navigation. This structure is intuitive for users on all devices and follows a logical story: introduction (Hero), our story (About), AI meal planning (Planner), featured items (Featured), a full visual menu (Menu), our vibe (Gallery), and how to find us (Contact). The interactive, image-based menu and AI planner are the centerpieces, designed for easy exploration of the cafe's offerings.
    Visualization & Content Choices: 
        - Report Info: Full Menu List with Images -> Goal: Organize & Filter Visually -> Viz/Presentation: Interactive Filterable Card-based Menu -> Interaction: Users click category buttons to filter the displayed menu cards, each showing an image, name, and price. -> Justification: A visual menu is far more engaging and informative than text alone, improving the user experience and potentially increasing order sizes. -> Library/Method: Vanilla JavaScript manipulating DOM elements.
        - Report Info: User Preferences + Full Menu -> Goal: Personalize & Recommend -> Viz/Presentation: AI Meal Planner with text input -> Interaction: User types a request, clicks a button to call the Gemini API, and receives a custom meal suggestion. -> Justification: Provides a high-value, personalized "wow" feature that helps users discover food and demonstrates modern AI capabilities. -> Library/Method: Gemini API (gemini-2.0-flash) via fetch.
        - Report Info: Food & Ambiance Photos -> Goal: Inform & Entice -> Viz/Presentation: Image Gallery, Hero/Feature backgrounds, and a dedicated "Featured Dishes" section. -> Interaction: Hover effects and scroll-triggered fade-in animations. -> Justification: High-quality visuals are crucial for a restaurant. This approach creates an immersive and appetizing experience. -> Library/Method: CSS Transitions and JS Intersection Observer.
        - Report Info: Address & Phone -> Goal: Inform & Action -> Viz/Presentation: Clear text in Contact section with an embedded Google Map. -> Interaction: Clickable phone number. -> Justification: Provides essential, actionable information in a standard, easily accessible format. -> Library/Method: Standard HTML.
    CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. 
    -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Lora:ital,wght@0,400..700;1,400..700&display=swap" rel="stylesheet">

    <style>
        html { scroll-behavior: smooth; }
        body { font-family: 'Poppins', sans-serif; background-color: #FFF7ED; }
        .lora-font { font-family: 'Lora', serif; }
        .hero-section {
            background-image: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('Images/redpasta.png');
            background-size: cover;
            background-position: center;
        }
        .gallery-img, .menu-card-img { transition: transform 0.3s ease, filter 0.3s ease; }
        .gallery-img:hover, .menu-card:hover .menu-card-img { transform: scale(1.05); }
        .menu-card { transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .menu-card:hover { transform: translateY(-8px); box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1); }
        .reveal { opacity: 0; transform: translateY(30px); transition: opacity 0.8s ease-out, transform 0.6s ease-out; }
        .reveal.visible { opacity: 1; transform: translateY(0); }
        .menu-filter-btn { transition: all 0.3s ease; }
        .menu-filter-btn.active { background-color: #ea580c; color: white; box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); }
        .loader { border: 4px solid #f3f3f3; border-top: 4px solid #ea580c; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body class="bg-orange-50 text-gray-800">

    <header class="bg-white/80 backdrop-blur-lg shadow-md sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
            <a href="#home" class="flex items-center">
                <img src="Images/logo.png" alt="MMC Logo" class="h-12 mr-3" onerror="this.onerror=null;this.src='https://placehold.co/100x100/F97316/FFFFFF?text=MMC';">
                <span class="text-xl font-bold text-orange-600">Mumbai Masala Café</span>
            </a>
            <div class="hidden md:flex items-center space-x-6">
                <a href="#home" class="text-gray-600 hover:text-orange-500 transition">Home</a>
                <a href="#planner" class="text-gray-600 hover:text-orange-500 transition">AI Planner</a>
                <a href="#featured" class="text-gray-600 hover:text-orange-500 transition">Featured</a>
                <a href="#menu" class="text-gray-600 hover:text-orange-500 transition">Menu</a>
                <a href="#gallery" class="text-gray-600 hover:text-orange-500 transition">Gallery</a>
                <a href="#contact" class="text-gray-600 hover:text-orange-500 transition">Contact</a>
            </div>
            <button id="mobile-menu-button" class="md:hidden text-gray-700 focus:outline-none">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4">
             <a href="#home" class="block py-2 text-gray-600 hover:text-orange-500">Home</a>
             <a href="#planner" class="block py-2 text-gray-600 hover:text-orange-500">AI Planner</a>
             <a href="#featured" class="block py-2 text-gray-600 hover:text-orange-500">Featured</a>
             <a href="#menu" class="block py-2 text-gray-600 hover:text-orange-500">Menu</a>
             <a href="#gallery" class="block py-2 text-gray-600 hover:text-orange-500">Gallery</a>
             <a href="#contact" class="block py-2 text-gray-600 hover:text-orange-500">Contact</a>
        </div>
    </header>

    <main>
        <section id="home" class="hero-section text-white h-[calc(100vh-68px)] flex items-center justify-center">
            <div class="text-center px-4">
                <h1 class="text-5xl md:text-7xl font-extrabold lora-font drop-shadow-lg mb-4">Mumbai ka Asli Swaad, Har Bite Mein!</h1>
                <p class="text-lg md:text-xl max-w-2xl mx-auto mb-8 drop-shadow-md">Aapki Choice, Aapka Flavour. Ekdum authentic street food aur dil se banaye meals, bas aapke liye.</p>
                <a href="#menu" class="bg-orange-500 text-white font-bold py-3 px-8 rounded-full text-lg hover:bg-orange-600 transition-all duration-300 transform hover:scale-105 shadow-xl">Menu Dekho!</a>
            </div>
        </section>

        <section id="about" class="py-20 bg-white">
            <div class="container mx-auto px-6 text-center reveal">
                <h2 class="text-4xl font-bold text-orange-600 lora-font mb-6">Jahan Chai Milti Hai Masala Magic Se</h2>
                <p class="max-w-3xl mx-auto text-gray-600 text-lg">Yeh section hamare cafe ki rooh hai. Yahan sirf khana nahi, ek poora experience milta hai. Aao, hamare saath Mumbai ke authentic flavours aur cozy atmosphere ka maza lo.</p>
            </div>
        </section>

        <section id="planner" class="py-20 bg-orange-50">
            <div class="container mx-auto px-6 text-center reveal">
                <h2 class="text-4xl font-bold text-orange-600 lora-font mb-6">✨ AI Chef se Pucho!</h2>
                <p class="max-w-3xl mx-auto text-gray-600 text-lg mb-8">Decide nahi kar paa rahe? Koi na! Hamare AI Chef ko batao kya khane ka mann hai, aur pao ek perfect meal suggestion, sirf aapke liye.</p>
                <div class="max-w-xl mx-auto">
                    <textarea id="planner-input" class="w-full p-4 border border-orange-200 rounded-lg shadow-sm focus:ring-2 focus:ring-orange-500 focus:outline-none" rows="3" placeholder="e.g., 'Ek spicy vegetarian meal chahiye' ya 'Do logo ke liye halka non-veg'"></textarea>
                    <button id="planner-button" class="mt-4 bg-orange-500 text-white font-bold py-3 px-8 rounded-full text-lg hover:bg-orange-600 transition-all duration-300 transform hover:scale-105 shadow-lg">Suggestion Maango</button>
                    <div id="planner-loader" class="hidden mx-auto mt-6"><div class="loader"></div></div>
                    <div id="planner-result" class="hidden mt-6 bg-white p-6 rounded-lg shadow-md text-left whitespace-pre-wrap"></div>
                </div>
            </div>
        </section>
        
        <section id="featured" class="py-20 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12 reveal">
                    <h2 class="text-4xl font-bold text-orange-600 lora-font mb-6">Apne Crowd Favourites!</h2>
                    <p class="max-w-3xl mx-auto text-gray-600 text-lg">Ek nazar un dishes pe jo hamare regulars baar baar order karte hain. Yeh hamare menu ke superstars hain, taste ki guarantee!</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <a href="#menu" class="group block overflow-hidden rounded-lg shadow-lg reveal relative">
                        <img src="Images/vadapau.png" alt="Vada Pau" class="w-full h-80 object-cover group-hover:scale-110 transition-transform duration-300">
                        <div class="p-4 bg-black bg-opacity-50 text-white absolute bottom-0 left-0 w-full">
                            <h3 class="text-xl font-bold">Mumbai Vada Pav</h3>
                        </div>
                    </a>
                    <a href="#menu" class="group block overflow-hidden rounded-lg shadow-lg reveal relative" style="transition-delay: 100ms;">
                        <img src="Images/redpasta.png" alt="Red Pasta" class="w-full h-80 object-cover group-hover:scale-110 transition-transform duration-300">
                         <div class="p-4 bg-black bg-opacity-50 text-white absolute bottom-0 left-0 w-full">
                            <h3 class="text-xl font-bold">Masala Pasta</h3>
                        </div>
                    </a>
                    <a href="#menu" class="group block overflow-hidden rounded-lg shadow-lg reveal relative" style="transition-delay: 200ms;">
                        <img src="Images/sandwich.png" alt="Sandwich" class="w-full h-80 object-cover group-hover:scale-110 transition-transform duration-300">
                         <div class="p-4 bg-black bg-opacity-50 text-white absolute bottom-0 left-0 w-full">
                            <h3 class="text-xl font-bold">Grilled Sandwiches</h3>
                        </div>
                    </a>
                </div>
            </div>
        </section>

        <section id="menu" class="py-20 bg-orange-50">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12 reveal">
                    <h2 class="text-4xl font-bold text-orange-600 lora-font mb-6">Tasveeron Waala Menu</h2>
                    <p class="max-w-3xl mx-auto text-gray-600 text-lg">Ab menu dekhna hua aur bhi easy. Neeche diye filters se chuno apni pasand ki category - Veg, Non-Veg, ya Drinks. Ek click karo aur apni flavour journey shuru karo.</p>
                </div>
                <div id="menu-filters" class="flex flex-wrap justify-center gap-2 md:gap-4 mb-10 reveal">
                    <button class="menu-filter-btn active font-semibold py-2 px-4 rounded-full border border-orange-200 bg-white" data-category="all">All</button>
                    <button class="menu-filter-btn font-semibold py-2 px-4 rounded-full border border-orange-200 bg-white" data-category="veg">Veg</button>
                    <button class="menu-filter-btn font-semibold py-2 px-4 rounded-full border border-orange-200 bg-white" data-category="non-veg">Non-Veg</button>
                    <button class="menu-filter-btn font-semibold py-2 px-4 rounded-full border border-orange-200 bg-white" data-category="breakfast">Breakfast</button>
                    <button class="menu-filter-btn font-semibold py-2 px-4 rounded-full border border-orange-200 bg-white" data-category="drinks">Drinks</button>
                </div>
                <div id="menu-items-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"></div>
            </div>
        </section>

        <section id="gallery" class="py-20 bg-white">
            <div class="container mx-auto px-6">
                 <div class="text-center mb-12 reveal">
                    <h2 class="text-4xl font-bold text-orange-600 lora-font mb-6">Capture Karo Apna MMC Moment</h2>
                     <p class="max-w-3xl mx-auto text-gray-600 text-lg">Ek tasveer, hazaar flavours! Is gallery mein dekho hamare cafe ki life, hamare lazeez khano se lekar customers ke happy moments tak. Vibe check kar lo!</p>
                </div>
                <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                    <div class="overflow-hidden rounded-lg shadow-lg reveal"><img src="Images/vibes.png" alt="Cafe ambiance" class="w-full h-full object-cover gallery-img"></div>
                    <div class="overflow-hidden rounded-lg shadow-lg reveal" style="transition-delay: 100ms;"><img src="Images/vibes2.png" alt="Cafe storefront" class="w-full h-full object-cover gallery-img"></div>
                    <div class="overflow-hidden rounded-lg shadow-lg col-span-2 md:col-span-1 reveal" style="transition-delay: 200ms;"><img src="Images/cholebhature.png" alt="Food collage" class="w-full h-full object-cover gallery-img"></div>
                </div>
            </div>
        </section>

        <section id="contact" class="py-20 bg-orange-50">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12 reveal">
                    <h2 class="text-4xl font-bold text-orange-600 lora-font mb-6">Aao Milo Ya Call Karo</h2>
                    <p class="max-w-3xl mx-auto text-gray-600 text-lg">Aane ka plan hai? Yahan aapko milegi saari jaankari - pata, phone number, aur timing. Hum aapka intezaar kar rahe hain!</p>
                </div>
                <div class="flex flex-wrap -mx-4 reveal bg-white p-8 rounded-lg shadow-lg">
                    <div class="w-full lg:w-1/2 px-4 mb-8 lg:mb-0">
                        <div class="h-full flex flex-col justify-center">
                             <div>
                                <h3 class="text-2xl font-bold text-gray-800 mb-4">Our Location</h3>
                                <p class="text-gray-600 mb-2 flex items-start"><svg class="w-6 h-6 mr-3 text-orange-500 flex-shrink-0 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg><span>Shop No. 01, Plot No.226, B-Block, Sector-19, Amrahi, Dwarka, New Delhi-110075</span></p>
                                <p class="text-gray-600 flex items-center"><svg class="w-5 h-5 mr-3 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg><a href="tel:7827735037" class="hover:text-orange-500">7827735037</a></p>
                            </div>
                            <div class="mt-8">
                                <h3 class="text-2xl font-bold text-gray-800 mb-4">Opening Hours</h3>
                                <p class="text-gray-600">Monday - Sunday: 9:00 AM - 11:00 PM</p>
                            </div>
                        </div>
                    </div>
                    <div class="w-full lg:w-1/2 px-4">
                         <div class="rounded-lg overflow-hidden shadow-lg h-full min-h-[400px]">
                            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3503.242781481177!2d77.067303!3d28.592534!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x390d1b193498357d%3A0x6b6949826a0a20f!2sSector%2019%2C%20Dwarka%2C%20Delhi%2C%20110075!5e0!3m2!1sen!2sin!4v1719232817342!5m2!1sen!2sin" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-gray-800 text-white py-16">
        <div class="container mx-auto px-6 text-center">
             <a href="#home" class="flex items-center justify-center mb-6">
                <img src="Images/logo.png" alt="MMC Logo" class="h-12 mr-3 bg-white rounded-full p-1" onerror="this.onerror=null;this.src='https://placehold.co/100x100/F97316/FFFFFF?text=MMC';">
                <span class="text-2xl font-bold">Mumbai Masala Café</span>
            </a>
            <p class="mb-8 max-w-lg mx-auto text-gray-400">Aapki Choice, Aapka Flavour. Hamari journey aur latest creations dekhne ke liye, Instagram pe follow zaroor karna!</p>
            <div class="mb-8">
                <a href="https://www.instagram.com/mumbaimasalacafee/" target="_blank" rel="noopener noreferrer" class="bg-gradient-to-r from-pink-500 via-red-500 to-yellow-500 text-white font-bold py-3 px-8 rounded-full inline-flex items-center space-x-3 transition transform hover:scale-105 shadow-lg">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.024.06 1.378.06 3.808s-.012 2.784-.06 3.808c-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.024.048-1.378.06-3.808.06s-2.784-.013-3.808-.06c-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.048-1.024-.06-1.378-.06-3.808s.012-2.784.06-3.808c.049-1.064.218-1.791.465 2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 016.08 2.465c.636-.247 1.363-.416 2.427-.465C9.53 2.013 9.884 2 12.315 2zM12 7a5 5 0 100 10 5 5 0 000-10zm0-2a7 7 0 110 14 7 7 0 010-14zm6.406-1.18a1.2 1.2 0 100 2.4 1.2 1.2 0 000-2.4z" clip-rule="evenodd"></path></svg>
                    <span>Follow @mumbaimasalacafee</span>
                </a>
            </div>
            <p class="text-gray-500 text-sm">&copy; 2025 Mumbai Masala Cafe. All Rights Reserved.</p>
        </div>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const menuItems = [
            { name: 'Mumbai Vada Pao', price: 90, category: 'veg', image: 'Images/vadapau.png' },
            { name: 'Masala Pao Bhaji', price: 110, category: 'veg', image: 'Images/cholebhature.png' },
            { name: 'Mumbai Masala Cheesey Pao', price: 130, category: 'veg', image: 'Images/vadapau.png' },
            { name: 'Mumbai Masala Toasties', price: 110, category: 'veg', image: 'Images/sandwich.png' },
            { name: 'Masala Club', price: 110, category: 'veg', image: 'Images/sandwich.png' },
            { name: 'Masala Maggi Veg.', price: 70, category: 'veg', image: 'Images/redpasta.png' },
            { name: 'Masala Maggi Paneer', price: 100, category: 'veg', image: 'Images/WhitePasta.png' },
            { name: 'Mexican Loaded Nachos', price: 120, category: 'veg', image: 'Images/wrap.png' },
            { name: 'Veg. Pasta with White & Red Sauce', price: 110, category: 'veg', image: 'Images/WhitePasta.png' },
            { name: 'Mexican Seekh Sabab Wrap', price: 160, category: 'non-veg', image: 'Images/wrap.png' },
            { name: 'Mexican Chicken Sausage Wrap', price: 160, category: 'non-veg', image: 'Images/wrap.png' },
            { name: 'Magic Mix Chicken Sandwich', price: 120, category: 'non-veg', image: 'Images/sandwich.png' },
            { name: 'Masala Anda Bun Muska', price: 80, category: 'non-veg', image: 'https://placehold.co/400x300/F97316/FFFFFF?text=Delicious+Food' },
            { name: 'Masala Anda Kulcha Pizza', price: 110, category: 'non-veg', image: 'https://placehold.co/400x300/F97316/FFFFFF?text=Delicious+Food' },
            { name: 'Seekh Kabab Hot Dog', price: 120, category: 'non-veg', image: 'https://placehold.co/400x300/F97316/FFFFFF?text=Delicious+Food' },
            { name: 'Non Veg. Pasta with Sauce', price: 130, category: 'non-veg', image: 'Images/redpasta.png' },
            { name: 'Chicken Burger with Cheese', price: 120, category: 'non-veg', image: 'Images/vadapau.png' },
            { name: 'Akuri', price: 90, category: 'breakfast', image: 'https://placehold.co/400x300/F97316/FFFFFF?text=Delicious+Food' },
            { name: 'Fried Egg', price: 90, category: 'breakfast', image: 'https://placehold.co/400x300/F97316/FFFFFF?text=Delicious+Food' },
            { name: 'Sunny Side Up', price: 90, category: 'breakfast', image: 'https://placehold.co/400x300/F97316/FFFFFF?text=Delicious+Food' },
            { name: 'Cheese Omelette', price: 100, category: 'breakfast', image: 'https://placehold.co/400x300/F97316/FFFFFF?text=Delicious+Food' },
            { name: 'Masala Omelette', price: 90, category: 'breakfast', image: 'https://placehold.co/400x300/F97316/FFFFFF?text=Delicious+Food' },
            { name: 'Spanish Omelette', price: 110, category: 'breakfast', image: 'https://placehold.co/400x300/F97316/FFFFFF?text=Delicious+Food' },
            { name: 'Chicken Sausage 2pc', price: 110, category: 'breakfast', image: 'https://placehold.co/400x300/F97316/FFFFFF?text=Delicious+Food' },
            { name: 'Masala Kullad Chai', price: 35, category: 'drinks', image: 'https://placehold.co/400x300/F97316/FFFFFF?text=Chai+Time' },
            { name: 'Hot Coffee', price: 70, category: 'drinks', image: 'https://placehold.co/400x300/F97316/FFFFFF?text=Chai+Time' },
            { name: 'Chilled Coffee', price: 80, category: 'drinks', image: 'https://placehold.co/400x300/F97316/FFFFFF?text=Chai+Time' },
            { name: 'Cold Coffee', price: 120, category: 'drinks', image: 'https://placehold.co/400x300/F97316/FFFFFF?text=Chai+Time' },
            { name: 'Oreo Shake', price: 120, category: 'drinks', image: 'https://placehold.co/400x300/F97316/FFFFFF?text=Chai+Time' },
        ];

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.1 });
        document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
        
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
        mobileMenu.querySelectorAll('a').forEach(link => link.addEventListener('click', () => mobileMenu.classList.add('hidden')));

        const menuContainer = document.getElementById('menu-items-container');
        const filterButtons = document.querySelectorAll('.menu-filter-btn');
        const renderMenu = (itemsToRender) => {
            menuContainer.innerHTML = '';
            itemsToRender.forEach((item, index) => {
                const menuItemDiv = document.createElement('div');
                menuItemDiv.className = 'menu-card bg-white rounded-lg shadow-md flex flex-col overflow-hidden reveal';
                menuItemDiv.style.transitionDelay = `${(index % 8) * 50}ms`;
                menuItemDiv.innerHTML = `
                    <div class="h-48 overflow-hidden">
                        <img src="${item.image}" alt="${item.name}" class="w-full h-full object-cover menu-card-img" onerror="this.onerror=null;this.src='https://placehold.co/400x300/F97316/FFFFFF?text=Yummy!';">
                    </div>
                    <div class="p-4 flex flex-col flex-grow">
                        <h4 class="font-bold text-lg text-gray-800 flex-grow">${item.name}</h4>
                        <p class="font-black text-orange-600 text-xl mt-2">₹${item.price}</p>
                    </div>
                `;
                menuContainer.appendChild(menuItemDiv);
                observer.observe(menuItemDiv);
            });
        };
        filterButtons.forEach(button => {
            button.addEventListener('click', () => {
                const category = button.dataset.category;
                filterButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                const filteredItems = category === 'all' ? menuItems : menuItems.filter(item => item.category === category);
                renderMenu(filteredItems);
            });
        });
        renderMenu(menuItems);

        const plannerButton = document.getElementById('planner-button');
        const plannerInput = document.getElementById('planner-input');
        const plannerResult = document.getElementById('planner-result');
        const plannerLoader = document.getElementById('planner-loader');
        plannerButton.addEventListener('click', async () => {
            const userInput = plannerInput.value.trim();
            if (!userInput) {
                plannerResult.textContent = 'Please tell us what you\'re in the mood for!';
                plannerResult.classList.remove('hidden'); return;
            }
            plannerResult.classList.add('hidden');
            plannerLoader.classList.remove('hidden');
            const menuString = menuItems.map(item => `${item.name} (${item.category}) - ₹${item.price}`).join(', ');
            const prompt = `You are a friendly and helpful assistant for the Mumbai Masala Cafe. A customer needs help deciding what to eat. Based on our menu and their request, suggest a meal for them. Keep the response concise, friendly, and formatted nicely with titles like "Starter:", "Main:", and "Drink:". If the request is too vague, suggest some of our most popular items. Our Menu: ${menuString}. Customer's request: "${userInput}"`;
            try {
                const payload = { contents: [{ role: "user", parts: [{ text: prompt }] }] };
                const apiKey = "";
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });
                if (!response.ok) throw new Error(`API error: ${response.statusText}`);
                const result = await response.json();
                if (result.candidates && result.candidates[0].content && result.candidates[0].content.parts) {
                    plannerResult.textContent = result.candidates[0].content.parts[0].text;
                } else { throw new Error("Sorry, I couldn't come up with a suggestion right now."); }
            } catch (error) {
                console.error("Gemini API call failed:", error);
                plannerResult.textContent = "Sorry, something went wrong. Please check our full menu below and try again later.";
            } finally {
                plannerLoader.classList.add('hidden');
                plannerResult.classList.remove('hidden');
            }
        });
    });
    </script>
</body>
</html>
